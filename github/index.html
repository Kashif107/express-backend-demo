<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub Profile Fetcher</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">

  <h1 class="text-3xl font-bold mb-6">GitHub Profile Fetcher</h1>

  <div class="flex gap-2 mb-4">
    <input id="username" type="text" placeholder="Enter GitHub username"
      class="px-4 py-2 rounded-lg text-black w-64">
    <button onclick="fetchProfile()" 
      class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg">
      Search
    </button>
  </div>

  <div id="loading" class="hidden text-yellow-400">Loading...</div>
  <div id="error" class="text-red-500 mt-2"></div>

  <div id="profile" class="mt-6 hidden bg-gray-800 p-6 rounded-lg shadow-lg w-80 text-center">
    <img id="avatar" class="w-24 h-24 rounded-full mx-auto mb-4" alt="Avatar">
    <h2 id="name" class="text-xl font-semibold"></h2>
    <p id="bio" class="text-gray-400 text-sm"></p>
    <p id="repos" class="mt-2">Public Repos: <span class="font-bold"></span></p>
  </div>

  <script>
    async function fetchProfile() {
      const username = document.getElementById("username").value.trim();
      const loadingEl = document.getElementById("loading");
      const errorEl = document.getElementById("error");
      const profileEl = document.getElementById("profile");

      if (!username) {
        errorEl.textContent = "⚠ Please enter a username";
        return;
      }

      loadingEl.classList.remove("hidden");
      errorEl.textContent = "";
      profileEl.classList.add("hidden");

      try {
        const res = await fetch(`https://api.github.com/users/${username}`);

        if (!res.ok) {
          throw new Error(`User not found (Status: ${res.status})`);
        }

        const data = await res.json();

        // Populate profile
        document.getElementById("avatar").src = data.avatar_url;
        document.getElementById("name").textContent = data.name || "No Name";
        document.getElementById("bio").textContent = data.bio || "No bio available";
        document.getElementById("repos").querySelector("span").textContent = data.public_repos;

        profileEl.classList.remove("hidden");

      } catch (err) {
        errorEl.textContent = `❌ ${err.message}`;
      } finally {
        loadingEl.classList.add("hidden");
      }
    }
  </script>
</body>
</html>
